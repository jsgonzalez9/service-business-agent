{"version":3,"sources":["../../../../components/ui/input.tsx","../../../../app/dashboard/contracts/page.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","import { createClient } from \"@/lib/supabase/server\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\n\nexport default async function ContractsPage() {\n  const supabase = await createClient()\n  const { data: templates } = await supabase.from(\"contract_templates\").select(\"*\").order(\"created_at\", { ascending: false })\n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-lg font-semibold text-foreground\">Contracts</h1>\n      <div className=\"mt-4\">\n        <form action=\"/api/contracts/templates\" method=\"post\" encType=\"multipart/form-data\" className=\"flex items-center gap-2\">\n          <Input name=\"file\" type=\"file\" accept=\".pdf,.docx,.txt\" />\n          <Input name=\"name\" placeholder=\"Template name\" />\n          <Input name=\"role\" placeholder=\"Role (seller|buyer)\" />\n          <Input name=\"state\" placeholder=\"State (optional)\" />\n          <Button type=\"submit\">Upload Template</Button>\n        </form>\n        <div className=\"mt-4\">\n          <form action=\"/api/contracts/docuseal/link\" method=\"post\" className=\"flex flex-wrap items-center gap-2\">\n            <select name=\"role\" defaultValue=\"seller\" className=\"rounded border border-border bg-background p-2 text-sm\">\n              <option value=\"seller\">Seller</option>\n              <option value=\"buyer\">Buyer</option>\n            </select>\n            <Input name=\"state\" placeholder=\"State (optional)\" />\n            <Input name=\"templateId\" placeholder=\"DocuSeal template id or URL (e.g. http://localhost:3010/d/...)\" />\n            <Button type=\"submit\" variant=\"outline\">Link DocuSeal</Button>\n          </form>\n        </div>\n      </div>\n      <div className=\"mt-6 grid grid-cols-1 gap-3 md:grid-cols-2\">\n        {(!templates || templates.length === 0) && (\n          <div className=\"rounded-lg border border-border bg-card p-4\">\n            <p className=\"text-sm text-muted-foreground\">No templates uploaded yet. You can still link a DocuSeal ID or URL using the form above.</p>\n          </div>\n        )}\n        {(templates || []).map((t: any) => (\n          <div key={t.id} className=\"rounded-lg border border-border bg-card p-4\">\n            <p className=\"font-medium text-foreground\">{t.name}</p>\n            <p className=\"text-sm text-muted-foreground\">Role: {t.role}</p>\n            <p className=\"text-sm text-muted-foreground\">State: {t.state || \"-\"}</p>\n            <p className=\"text-xs text-muted-foreground\">Path: {t.storage_path}</p>\n            <div className=\"mt-2 flex items-center gap-2\">\n              <form action=\"/api/contracts/docuseal/link\" method=\"post\" className=\"flex items-center gap-2\">\n                <input type=\"hidden\" name=\"role\" value={t.role} />\n                <input type=\"hidden\" name=\"state\" value={t.state || \"\"} />\n                <Input name=\"templateId\" placeholder=\"DocuSeal template id or URL\" defaultValue={t.docuseal_template_id || t.docuseal_direct_link || \"\"} />\n                <Button type=\"submit\" variant=\"outline\">Link DocuSeal</Button>\n              </form>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}