module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},22605,a=>{"use strict";var b=a.i(7997),c=a.i(82248);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},23706,a=>{"use strict";var b=a.i(7997),c=a.i(98310),d=a.i(43917),e=a.i(22605);async function f(){let a=await (0,c.createClient)(),{data:f}=await a.from("contract_templates").select("*").order("created_at",{ascending:!1}),{data:g}=await a.from("leads").select("id,name,address,seller_contract_signed_url,seller_contract_status,updated_at").eq("seller_contract_status","completed").order("updated_at",{ascending:!1}).limit(50),{data:h}=await a.from("leads").select("id,name,address,buyer_contract_signed_url,buyer_contract_status,updated_at,winning_buyer_id").eq("buyer_contract_status","completed").order("updated_at",{ascending:!1}).limit(50);return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-foreground",children:"Contracts"}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("form",{action:"/api/contracts/templates",method:"post",encType:"multipart/form-data",className:"flex items-center gap-2",children:[(0,b.jsx)(e.Input,{name:"file",type:"file",accept:".pdf,.docx,.txt"}),(0,b.jsx)(e.Input,{name:"name",placeholder:"Template name"}),(0,b.jsx)(e.Input,{name:"role",placeholder:"Role (seller|buyer)"}),(0,b.jsx)(e.Input,{name:"state",placeholder:"State (optional)"}),(0,b.jsx)(d.Button,{type:"submit",children:"Upload Template"})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("form",{action:"/api/contracts/docuseal/link",method:"post",encType:"multipart/form-data",className:"flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("select",{name:"role",defaultValue:"seller",className:"rounded border border-border bg-background p-2 text-sm",children:[(0,b.jsx)("option",{value:"seller",children:"Seller"}),(0,b.jsx)("option",{value:"buyer",children:"Buyer"})]}),(0,b.jsx)(e.Input,{name:"state",placeholder:"State (optional)"}),(0,b.jsx)(e.Input,{name:"templateId",placeholder:"DocuSeal template id or URL (e.g. http://localhost:3010/d/...)"}),(0,b.jsx)(d.Button,{type:"submit",variant:"outline",children:"Link DocuSeal"})]}),(0,b.jsxs)("form",{action:"/api/send-contract",method:"post",className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("select",{name:"role",defaultValue:"seller",className:"rounded border border-border bg-background p-2 text-sm",children:[(0,b.jsx)("option",{value:"seller",children:"Send Seller Contract"}),(0,b.jsx)("option",{value:"buyer",children:"Send Buyer Contract"})]}),(0,b.jsx)(e.Input,{name:"leadId",placeholder:"Lead ID"}),(0,b.jsx)(d.Button,{type:"submit",children:"Send Contract"})]}),(0,b.jsxs)("form",{action:"/api/sign/ds/manual-complete",method:"post",className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("select",{name:"role",defaultValue:"seller",className:"rounded border border-border bg-background p-2 text-sm",children:[(0,b.jsx)("option",{value:"seller",children:"Mark Seller Completed"}),(0,b.jsx)("option",{value:"buyer",children:"Mark Buyer Completed"})]}),(0,b.jsx)(e.Input,{name:"leadId",placeholder:"Lead ID"}),(0,b.jsx)(e.Input,{name:"signedUrl",placeholder:"Signed URL (optional)"}),(0,b.jsx)(d.Button,{type:"submit",variant:"outline",children:"Mark Completed"})]})]})]}),(0,b.jsx)("h2",{className:"mt-6 text-base font-semibold text-foreground",children:"Contract Templates"}),(0,b.jsxs)("div",{className:"mt-2 grid grid-cols-1 gap-3 md:grid-cols-2",children:[(!f||0===f.length)&&(0,b.jsx)("div",{className:"rounded-lg border border-border bg-card p-4",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No templates uploaded yet. You can still link a DocuSeal ID or URL using the form above."})}),(f||[]).map(a=>(0,b.jsxs)("div",{className:"rounded-lg border border-border bg-card p-4",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Role: ",a.role]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["State: ",a.state||"-"]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Path: ",a.storage_path]}),(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,b.jsxs)("form",{action:"/api/contracts/docuseal/link",method:"post",encType:"multipart/form-data",className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"hidden",name:"role",value:a.role}),(0,b.jsx)("input",{type:"hidden",name:"state",value:a.state||""}),(0,b.jsx)(e.Input,{name:"templateId",placeholder:"DocuSeal template id or URL",defaultValue:a.docuseal_template_id||a.docuseal_direct_link||""}),(0,b.jsx)(d.Button,{type:"submit",variant:"outline",children:"Link DocuSeal"})]}),(0,b.jsxs)("form",{action:"/api/contracts/templates/delete",method:"post",className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"hidden",name:"id",value:a.id}),(0,b.jsx)(d.Button,{type:"submit",variant:"destructive",children:"Delete"})]}),a.docuseal_direct_link&&(0,b.jsx)("a",{className:"inline-block text-primary underline",href:a.docuseal_direct_link,target:"_blank",rel:"noreferrer",children:"Open DocuSeal"})]})]},a.id))]}),(0,b.jsx)("h2",{className:"mt-8 text-base font-semibold text-foreground",children:"Seller Signed"}),(0,b.jsxs)("div",{className:"mt-2 grid grid-cols-1 gap-3 md:grid-cols-2",children:[(!g||0===g.length)&&(0,b.jsx)("div",{className:"rounded-lg border border-border bg-card p-4",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No seller contracts completed yet."})}),(g||[]).map(a=>(0,b.jsxs)("div",{className:"rounded-lg border border-border bg-card p-4",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.address}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Status: ",a.seller_contract_status]}),a.seller_contract_signed_url&&(0,b.jsx)("a",{className:"mt-2 inline-block text-primary underline",href:a.seller_contract_signed_url,target:"_blank",rel:"noreferrer",children:"View Signed PDF"})]},a.id))]}),(0,b.jsx)("h2",{className:"mt-8 text-base font-semibold text-foreground",children:"Buyer Signed"}),(0,b.jsxs)("div",{className:"mt-2 grid grid-cols-1 gap-3 md:grid-cols-2",children:[(!h||0===h.length)&&(0,b.jsx)("div",{className:"rounded-lg border border-border bg-card p-4",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No buyer contracts completed yet."})}),(h||[]).map(a=>(0,b.jsxs)("div",{className:"rounded-lg border border-border bg-card p-4",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.address}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Status: ",a.buyer_contract_status]}),a.winning_buyer_id&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Buyer: ",a.winning_buyer_id]}),a.buyer_contract_signed_url&&(0,b.jsx)("a",{className:"mt-2 inline-block text-primary underline",href:a.buyer_contract_signed_url,target:"_blank",rel:"noreferrer",children:"View Signed PDF"})]},a.id))]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__369b8936._.js.map