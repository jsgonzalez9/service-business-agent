module.exports=[21365,a=>{"use strict";var b=a.i(76009),c=a.i(7549),d=a.i(40695),e=a.i(5522),f=a.i(17171),g=a.i(3130);function h({initialConfig:a}){let[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)({company_name:a?.company_name||"CashBuyer Properties",wholesaling_fee:a?.wholesaling_fee?.toString()||"10000",arv_multiplier:a?.arv_multiplier?.toString()||"0.70",follow_up_hours:a?.follow_up_hours?.toString()||"24",max_follow_ups:a?.max_follow_ups?.toString()||"3",followup_backoff_minutes:a?.followup_backoff_minutes?.toString()||"15",followup_max_attempts:a?.followup_max_attempts?.toString()||"3",llm_cache_enabled:a?.llm_cache_enabled!==!1,llm_cache_confidence_floor:String(a?.llm_cache_confidence_floor??.85),llm_cache_ttl_faq_days:String(a?.llm_cache_ttl_faq_days??30),llm_cache_ttl_objection_days:String(a?.llm_cache_ttl_objection_days??14)}),[l,m]=(0,c.useState)({}),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(a?.llm_cache_market_overrides||{}),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(String(.85)),[v,w]=(0,c.useState)(String(30)),[x,y]=(0,c.useState)(String(14)),[z,A]=(0,c.useState)([]);async function B(){o(!0);try{let a=await fetch("/api/sms/health"),b=await a.json();b.success&&m(b.perNumber||{})}catch{}o(!1)}async function C(){i(!0);try{let a=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({company_name:j.company_name,wholesaling_fee:Number.parseFloat(j.wholesaling_fee),arv_multiplier:Number.parseFloat(j.arv_multiplier),follow_up_hours:Number.parseInt(j.follow_up_hours),max_follow_ups:Number.parseInt(j.max_follow_ups),followup_backoff_minutes:Number.parseInt(j.followup_backoff_minutes),followup_max_attempts:Number.parseInt(j.followup_max_attempts),llm_cache_enabled:!!j.llm_cache_enabled,llm_cache_confidence_floor:Number.parseFloat(j.llm_cache_confidence_floor),llm_cache_ttl_faq_days:Number.parseInt(j.llm_cache_ttl_faq_days),llm_cache_ttl_objection_days:Number.parseInt(j.llm_cache_ttl_objection_days),llm_cache_market_overrides:p,auto_dispo_eval_enabled:!!j.auto_dispo_eval_enabled,auto_renegotiate_days_threshold:Number.parseInt(j.auto_renegotiate_days_threshold??5),auto_cancel_days_threshold:Number.parseInt(j.auto_cancel_days_threshold??10),auto_dispo_require_human_confirm:!!j.auto_dispo_require_human_confirm})}),b=await a.json();b.success?alert("Settings saved!"):alert(b.error||"Failed to save")}catch(a){console.error("Error saving settings:",a),alert("Failed to save settings")}i(!1)}return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Company Information"}),(0,b.jsx)(g.CardDescription,{children:"Configure your company name used in SMS messages"})]}),(0,b.jsx)(g.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"company_name",children:"Company Name"}),(0,b.jsx)(e.Input,{id:"company_name",value:j.company_name,onChange:a=>k(b=>({...b,company_name:a.target.value})),placeholder:"Your Company Name"})]})})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"LLM Cache"}),(0,b.jsx)(g.CardDescription,{children:"Enable or disable embedding-based cache for FAQs/objections"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Label,{htmlFor:"llm_cache_enabled",children:"Enable Cache"}),(0,b.jsx)("input",{id:"llm_cache_enabled",type:"checkbox",checked:!!j.llm_cache_enabled,onChange:a=>k(b=>({...b,llm_cache_enabled:a.target.checked}))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"llm_cache_confidence_floor",children:"Confidence Floor"}),(0,b.jsx)(e.Input,{id:"llm_cache_confidence_floor",type:"number",step:"0.01",value:j.llm_cache_confidence_floor,onChange:a=>k(b=>({...b,llm_cache_confidence_floor:a.target.value})),placeholder:"0.85"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"llm_cache_ttl_faq_days",children:"FAQ TTL (days)"}),(0,b.jsx)(e.Input,{id:"llm_cache_ttl_faq_days",type:"number",value:j.llm_cache_ttl_faq_days,onChange:a=>k(b=>({...b,llm_cache_ttl_faq_days:a.target.value})),placeholder:"30"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"llm_cache_ttl_objection_days",children:"Objection TTL (days)"}),(0,b.jsx)(e.Input,{id:"llm_cache_ttl_objection_days",type:"number",value:j.llm_cache_ttl_objection_days,onChange:a=>k(b=>({...b,llm_cache_ttl_objection_days:a.target.value})),placeholder:"14"})]})]}),(0,b.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Per-Market Overrides"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-4",children:[(0,b.jsx)(e.Input,{placeholder:"Market (e.g. TX)",value:r,onChange:a=>s(a.target.value.toUpperCase())}),(0,b.jsx)(e.Input,{placeholder:"Floor e.g. 0.88",value:t,onChange:a=>u(a.target.value)}),(0,b.jsx)(e.Input,{placeholder:"FAQ TTL days",value:v,onChange:a=>w(a.target.value)}),(0,b.jsx)(e.Input,{placeholder:"Objection TTL days",value:x,onChange:a=>y(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>{r&&(q(a=>({...a,[r]:{confidence_floor:Number.parseFloat(t),ttl_faq_days:Number.parseInt(v),ttl_objection_days:Number.parseInt(x)}})),s(""))},children:"Add/Update Override"}),(0,b.jsx)(d.Button,{variant:"destructive",onClick:()=>{if(!r)return;let a={...p};delete a[r],q(a),s("")},children:"Remove Override"})]}),(0,b.jsx)("div",{className:"rounded border border-border p-2 text-sm",children:0===Object.keys(p).length?(0,b.jsx)("p",{className:"text-muted-foreground",children:"No overrides"}):Object.entries(p).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:a}),(0,b.jsxs)("span",{children:["floor ",c?.confidence_floor??"-"," • faq ",c?.ttl_faq_days??"-","d • obj ",c?.ttl_objection_days??"-","d"]})]},a))})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Disposition Automation"}),(0,b.jsx)(g.CardDescription,{children:"Auto evaluate and act during DISPO phase"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Label,{htmlFor:"auto_dispo_eval_enabled",children:"Enable Auto Evaluation"}),(0,b.jsx)("input",{id:"auto_dispo_eval_enabled",type:"checkbox",defaultChecked:a?.auto_dispo_eval_enabled!==!1,onChange:a=>k(b=>({...b,auto_dispo_eval_enabled:a.target.checked}))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"auto_renegotiate_days_threshold",children:"Renegotiate After (days)"}),(0,b.jsx)(e.Input,{id:"auto_renegotiate_days_threshold",type:"number",defaultValue:a?.auto_renegotiate_days_threshold??5,onChange:a=>k(b=>({...b,auto_renegotiate_days_threshold:Number.parseInt(a.target.value)}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"auto_cancel_days_threshold",children:"Cancel After (days)"}),(0,b.jsx)(e.Input,{id:"auto_cancel_days_threshold",type:"number",defaultValue:a?.auto_cancel_days_threshold??10,onChange:a=>k(b=>({...b,auto_cancel_days_threshold:Number.parseInt(a.target.value)}))})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Label,{htmlFor:"auto_dispo_require_human_confirm",children:"Require Human Confirm"}),(0,b.jsx)("input",{id:"auto_dispo_require_human_confirm",type:"checkbox",defaultChecked:a?.auto_dispo_require_human_confirm!==!1,onChange:a=>k(b=>({...b,auto_dispo_require_human_confirm:a.target.checked}))})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{let a=await fetch("/api/dispo/auto/run",{method:"POST"}),b=await a.json();alert(a.ok?`Evaluated ${b.evaluated} deals • Actions ${b.actions}`:b.error||"Run failed")},children:"Run Now"})})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Offer Calculation"}),(0,b.jsx)(g.CardDescription,{children:"Configure the MAO formula parameters"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"arv_multiplier",children:"ARV Multiplier"}),(0,b.jsx)(e.Input,{id:"arv_multiplier",type:"number",step:"0.01",value:j.arv_multiplier,onChange:a=>k(b=>({...b,arv_multiplier:a.target.value})),placeholder:"0.70"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Typically 0.70 (70%) for wholesaling"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"wholesaling_fee",children:"Wholesaling Fee ($)"}),(0,b.jsx)(e.Input,{id:"wholesaling_fee",type:"number",value:j.wholesaling_fee,onChange:a=>k(b=>({...b,wholesaling_fee:a.target.value})),placeholder:"10000"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Your assignment fee deducted from MAO"})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Follow-up Settings"}),(0,b.jsx)(g.CardDescription,{children:"Configure automated follow-up behavior"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"follow_up_hours",children:"Follow-up Delay (hours)"}),(0,b.jsx)(e.Input,{id:"follow_up_hours",type:"number",value:j.follow_up_hours,onChange:a=>k(b=>({...b,follow_up_hours:a.target.value})),placeholder:"24"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Hours to wait before sending follow-up"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"max_follow_ups",children:"Max Follow-ups"}),(0,b.jsx)(e.Input,{id:"max_follow_ups",type:"number",value:j.max_follow_ups,onChange:a=>k(b=>({...b,max_follow_ups:a.target.value})),placeholder:"3"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Maximum follow-up messages per lead"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"followup_backoff_minutes",children:"Backoff Minutes"}),(0,b.jsx)(e.Input,{id:"followup_backoff_minutes",type:"number",value:j.followup_backoff_minutes,onChange:a=>k(b=>({...b,followup_backoff_minutes:a.target.value})),placeholder:"15"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Minutes to wait before retrying failed follow-up"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{htmlFor:"followup_max_attempts",children:"Max Retry Attempts"}),(0,b.jsx)(e.Input,{id:"followup_max_attempts",type:"number",value:j.followup_max_attempts,onChange:a=>k(b=>({...b,followup_max_attempts:a.target.value})),placeholder:"3"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Max retries per follow-up message"})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Twilio Configuration"}),(0,b.jsx)(g.CardDescription,{children:"Add these environment variables to enable SMS"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)("div",{className:"rounded-lg bg-muted p-4 font-mono text-sm",children:[(0,b.jsx)("p",{children:"TWILIO_ACCOUNT_SID=your_account_sid"}),(0,b.jsx)("p",{children:"TWILIO_AUTH_TOKEN=your_auth_token"}),(0,b.jsx)("p",{children:"TWILIO_PHONE_NUMBER=+1234567890"}),(0,b.jsx)("p",{children:"TWILIO_NUMBER_POOL=+15551230001,+15551230002,+15551230003"}),(0,b.jsx)("p",{children:"SMS_MONTHLY_LIMIT_PER_NUMBER=10000"}),(0,b.jsx)("p",{children:"SMS_RATE_LIMIT_PER_MIN=25"}),(0,b.jsx)("p",{children:"SMS_QUIET_HOURS_START=8"}),(0,b.jsx)("p",{children:"SMS_QUIET_HOURS_END=21"})]}),(0,b.jsxs)("p",{className:"mt-4 text-sm text-muted-foreground",children:["Set your Twilio webhook URL to: ",(0,b.jsx)("code",{className:"rounded bg-muted px-1",children:"/api/twilio/incoming"})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Phone Provider Health"}),(0,b.jsx)(g.CardDescription,{children:"Last-hour sends per number to monitor rate limiting"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:B,disabled:n,children:n?"Loading...":"Load Health"}),(0,b.jsx)("div",{className:"mt-3 space-y-2 font-mono text-sm",children:0===Object.keys(l).length?(0,b.jsx)("p",{className:"text-muted-foreground",children:"No data yet"}):Object.entries(l).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:a}),(0,b.jsx)("span",{children:c})]},a))})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"FAQ Cache"}),(0,b.jsx)(g.CardDescription,{children:"Manage cached responses to reduce LLM usage"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Input,{id:"faq-search",placeholder:"Search canonical question",className:"flex-1"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{let a=document.getElementById("faq-search").value,b=await fetch(`/api/faq-cache?q=${encodeURIComponent(a)}`),c=await b.json(),d=Array.isArray(c.entries)?c.entries:[];alert(`Found ${d.length} entries`)},children:"Search"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{let a=await fetch("/api/faq-cache/seed",{method:"POST"}),b=await a.json();alert(a.ok?`Seeded ${b.inserted} FAQs`:b.error||"Seed failed")},children:"Seed 20 FAQs"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{let a=await fetch("/api/faq-cache"),b=await a.json(),c=Array.isArray(b.entries)?b.entries:[];alert(`Cache entries: ${c.length}`)},children:"List Cache"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("select",{id:"faq-intent",className:"rounded border border-border bg-background p-2 text-sm",children:[(0,b.jsx)("option",{value:"FAQ_PROCESS",children:"FAQ_PROCESS"}),(0,b.jsx)("option",{value:"FAQ_FEES",children:"FAQ_FEES"}),(0,b.jsx)("option",{value:"FAQ_TRUST",children:"FAQ_TRUST"}),(0,b.jsx)("option",{value:"FAQ_CONTRACT",children:"FAQ_CONTRACT"}),(0,b.jsx)("option",{value:"FAQ_GENERAL",children:"FAQ_GENERAL"}),(0,b.jsx)("option",{value:"OBJECTION_PRICE",children:"OBJECTION_PRICE"}),(0,b.jsx)("option",{value:"OBJECTION_DELAY",children:"OBJECTION_DELAY"})]}),(0,b.jsx)(e.Input,{id:"faq-q",placeholder:"Normalized question",className:"flex-1"}),(0,b.jsx)(e.Input,{id:"faq-a",placeholder:"Response text",className:"flex-1"}),(0,b.jsx)(e.Input,{id:"faq-market",placeholder:"Market (optional)",className:"w-40"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{let a=document.getElementById("faq-intent").value,b=document.getElementById("faq-q").value.trim().toLowerCase(),c=document.getElementById("faq-a").value,d=document.getElementById("faq-market").value||void 0;if(!a||!b||!c)return void alert("Fill all fields");let e=await fetch("/api/faq-cache",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({intent:a,normalized_question:b,response_text:c,market:d,canonical_question:b})}),f=await e.json();alert(e.ok?"Upserted":f.error||"Failed")},children:"Upsert Cache Entry"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Input,{id:"faq-id",placeholder:"Entry ID",className:"flex-1"}),(0,b.jsx)(d.Button,{variant:"destructive",onClick:async()=>{let a=document.getElementById("faq-id").value;if(!a)return alert("Provide entry ID");let b=await fetch(`/api/faq-cache?id=${encodeURIComponent(a)}`,{method:"DELETE"}),c=await b.json();alert(b.ok?"Purged":c.error||"Failed")},children:"Purge Entry"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{let a=document.getElementById("faq-id").value;if(!a)return alert("Provide entry ID");let b=await fetch("/api/faq-cache/warm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})}),c=await b.json();alert(b.ok?"Embedded":c.error||"Failed")},children:"Warm Embedding"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)(d.Button,{variant:"ghost",onClick:async()=>{let a=await fetch("/api/faq-cache"),b=await a.json();A(Array.isArray(b.entries)?b.entries:[])},children:"Load Cache Entries"})}),z.length>0&&(0,b.jsx)("div",{className:"rounded border border-border",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-muted-foreground",children:[(0,b.jsx)("th",{className:"p-2 text-left",children:"Intent"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Question"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Market"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Usage"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Last Used"}),(0,b.jsx)("th",{className:"p-2 text-left",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:z.map(a=>(0,b.jsxs)("tr",{className:"border-t border-border",children:[(0,b.jsx)("td",{className:"p-2",children:a.intent}),(0,b.jsx)("td",{className:"p-2",children:a.canonical_question||a.normalized_question}),(0,b.jsx)("td",{className:"p-2",children:a.market||"-"}),(0,b.jsx)("td",{className:"p-2",children:"number"==typeof a.usage_count?a.usage_count:"-"}),(0,b.jsx)("td",{className:"p-2",children:a.last_used_at?new Date(a.last_used_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"p-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{await fetch("/api/faq-cache/warm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a.id})}),alert("Embedded")},children:"Warm"}),(0,b.jsx)(d.Button,{variant:"destructive",onClick:async()=>{await fetch(`/api/faq-cache?id=${encodeURIComponent(a.id)}`,{method:"DELETE"}),A(b=>b.filter(b=>b.id!==a.id))},children:"Purge"})]})})]},a.id))})]})})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Contract Templates"}),(0,b.jsx)(g.CardDescription,{children:"Upload PDFs to store securely and send via SMS"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{id:"tpl-file",type:"file",accept:"application/pdf"}),(0,b.jsx)(e.Input,{id:"tpl-name",placeholder:"Template name"}),(0,b.jsxs)("select",{id:"tpl-role",className:"rounded border border-border bg-background p-2 text-sm",children:[(0,b.jsx)("option",{value:"seller",children:"Seller"}),(0,b.jsx)("option",{value:"buyer",children:"Buyer"})]}),(0,b.jsx)(e.Input,{id:"tpl-state",placeholder:"State (e.g. TX)",className:"w-24"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{let a=document.getElementById("tpl-file"),b=document.getElementById("tpl-name"),c=document.getElementById("tpl-role"),d=document.getElementById("tpl-state");if(!a.files?.[0]||!b.value)return void alert("Pick a PDF and enter a name");let e=new FormData;e.append("file",a.files[0]),e.append("name",b.value),c.value&&e.append("role",c.value),d.value&&e.append("state",d.value);let f=await fetch("/api/contracts/templates",{method:"POST",body:e}),g=await f.json();f.ok?(alert("Template uploaded"),a.value="",b.value="",d.value=""):alert(g.error||"Upload failed")},children:"Upload"}),(0,b.jsx)(d.Button,{variant:"outline",onClick:async()=>{await fetch("/api/contracts/setup",{method:"POST"}),alert("Bucket initialized")},children:"Initialize Bucket"})]}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(d.Button,{variant:"ghost",onClick:async()=>{let a=await fetch("/api/contracts/templates"),b=await a.json(),c=Array.isArray(b.templates)?b.templates:[];alert(`Templates:
${c.map(a=>`${a.name} (${a.storage_path})`).join("\n")||"none"}`)},children:"List Templates"})})]})]}),(0,b.jsx)(d.Button,{onClick:C,disabled:h,className:"w-full",children:h?"Saving...":"Save Settings"})]})}a.s(["SettingsForm",()=>h])}];

//# sourceMappingURL=components_settings-form_tsx_bb353cd1._.js.map