{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/hector/Desktop/WHOLESALE%20AI/v0-ai-wholesaling-agent/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { cookies } from \"next/headers\"\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll()\n      },\n      setAll(cookiesToSet) {\n        try {\n          cookiesToSet.forEach(({ name, value, options }) => cookieStore.set(name, value, options))\n        } catch {\n          // Server Component - ignore\n        }\n      },\n    },\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,mTAAO;IAEjC,OAAO,IAAA,8SAAkB,sUAAoF;QAC3G,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAK,YAAY,GAAG,CAAC,MAAM,OAAO;gBAClF,EAAE,OAAM;gBACN,4BAA4B;gBAC9B;YACF;QACF;IACF;AACF"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/hector/Desktop/WHOLESALE%20AI/v0-ai-wholesaling-agent/app/api/contracts/docuseal/link/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\nimport { createClient } from \"@/lib/supabase/server\"\n\nexport async function POST(req: NextRequest) {\n  const supabase = await createClient()\n  const form = await req.formData()\n  const rawTemplateId = String(form.get(\"templateId\") || \"\")\n  const url = String(form.get(\"url\") || \"\")\n  const role = String(form.get(\"role\") || \"\")\n  const state = String(form.get(\"state\") || \"\")\n  if ((!rawTemplateId && !url) || !role) return NextResponse.json({ error: \"templateId or url and role required\" }, { status: 400 })\n  const templateId = rawTemplateId.startsWith(\"http\") ? \"\" : rawTemplateId\n  const directLink = url || (rawTemplateId.startsWith(\"http\") ? rawTemplateId : \"\")\n  const { data: row } = await supabase\n    .from(\"contract_templates\")\n    .select(\"*\")\n    .eq(\"role\", role)\n    .eq(\"state\", state || null)\n    .maybeSingle()\n  if (!row) {\n    const name = `DocuSeal ${role}${state ? ` (${state})` : \"\"}`\n    const storage_path =\n      url || rawTemplateId.startsWith(\"http\")\n        ? `docuseal:${url || rawTemplateId}`\n        : `docuseal:template:${rawTemplateId}`\n    const { data: created, error: insErr } = await supabase\n      .from(\"contract_templates\")\n      .insert({ name, storage_path, role, state: state || null, docuseal_template_id: templateId || null, docuseal_direct_link: directLink || null })\n      .select(\"*\")\n      .single()\n    if (insErr) return NextResponse.json({ error: insErr.message }, { status: 500 })\n    return NextResponse.json({ success: true, template: created })\n  }\n  const { error } = await supabase\n    .from(\"contract_templates\")\n    .update({ docuseal_template_id: templateId || null, docuseal_direct_link: directLink || null })\n    .eq(\"id\", row.id)\n  if (error) return NextResponse.json({ error: error.message }, { status: 500 })\n  return NextResponse.json({ success: true })\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,GAAgB;IACzC,MAAM,WAAW,MAAM,IAAA,2IAAY;IACnC,MAAM,OAAO,MAAM,IAAI,QAAQ;IAC/B,MAAM,gBAAgB,OAAO,KAAK,GAAG,CAAC,iBAAiB;IACvD,MAAM,MAAM,OAAO,KAAK,GAAG,CAAC,UAAU;IACtC,MAAM,OAAO,OAAO,KAAK,GAAG,CAAC,WAAW;IACxC,MAAM,QAAQ,OAAO,KAAK,GAAG,CAAC,YAAY;IAC1C,IAAI,AAAC,CAAC,iBAAiB,CAAC,OAAQ,CAAC,MAAM,OAAO,uTAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAsC,GAAG;QAAE,QAAQ;IAAI;IAChI,MAAM,aAAa,cAAc,UAAU,CAAC,UAAU,KAAK;IAC3D,MAAM,aAAa,OAAO,CAAC,cAAc,UAAU,CAAC,UAAU,gBAAgB,EAAE;IAChF,MAAM,EAAE,MAAM,GAAG,EAAE,GAAG,MAAM,SACzB,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,EAAE,CAAC,QAAQ,MACX,EAAE,CAAC,SAAS,SAAS,MACrB,WAAW;IACd,IAAI,CAAC,KAAK;QACR,MAAM,OAAO,CAAC,SAAS,EAAE,OAAO,QAAQ,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG,IAAI;QAC5D,MAAM,eACJ,OAAO,cAAc,UAAU,CAAC,UAC5B,CAAC,SAAS,EAAE,OAAO,eAAe,GAClC,CAAC,kBAAkB,EAAE,eAAe;QAC1C,MAAM,EAAE,MAAM,OAAO,EAAE,OAAO,MAAM,EAAE,GAAG,MAAM,SAC5C,IAAI,CAAC,sBACL,MAAM,CAAC;YAAE;YAAM;YAAc;YAAM,OAAO,SAAS;YAAM,sBAAsB,cAAc;YAAM,sBAAsB,cAAc;QAAK,GAC5I,MAAM,CAAC,KACP,MAAM;QACT,IAAI,QAAQ,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,OAAO,OAAO,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;QAC9E,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,UAAU;QAAQ;IAC9D;IACA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,SACrB,IAAI,CAAC,sBACL,MAAM,CAAC;QAAE,sBAAsB,cAAc;QAAM,sBAAsB,cAAc;IAAK,GAC5F,EAAE,CAAC,MAAM,IAAI,EAAE;IAClB,IAAI,OAAO,OAAO,uTAAY,CAAC,IAAI,CAAC;QAAE,OAAO,MAAM,OAAO;IAAC,GAAG;QAAE,QAAQ;IAAI;IAC5E,OAAO,uTAAY,CAAC,IAAI,CAAC;QAAE,SAAS;IAAK;AAC3C"}}]
}