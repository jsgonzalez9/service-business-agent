{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/hector/Desktop/WHOLESALE%20AI/v0-ai-wholesaling-agent/lib/supabase/service.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\"\n\nexport function createServiceClient() {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL!\n  const key = process.env.SUPABASE_SERVICE_ROLE_KEY!\n  return createClient(url, key)\n}\n\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS;IACd,MAAM;IACN,MAAM,MAAM,QAAQ,GAAG,CAAC,yBAAyB;IACjD,OAAO,IAAA,mQAAY,EAAC,KAAK;AAC3B"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/hector/Desktop/WHOLESALE%20AI/v0-ai-wholesaling-agent/app/api/contracts/templates/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\nimport { createServiceClient } from \"@/lib/supabase/service\"\n\nexport async function GET() {\n  try {\n    const supabase = createServiceClient()\n    const { data } = await supabase.from(\"contract_templates\").select(\"*\").order(\"created_at\", { ascending: false })\n    return NextResponse.json({ templates: data || [] })\n  } catch (e: any) {\n    return NextResponse.json({ error: e?.message || \"Failed to list templates\" }, { status: 500 })\n  }\n}\n\nexport async function POST(request: Request) {\n  try {\n    const form = await request.formData()\n    const file = form.get(\"file\") as File | null\n    const name = String(form.get(\"name\") || \"\")\n    const role = String(form.get(\"role\") || \"seller\")\n    const state = String(form.get(\"state\") || \"\")\n    if (!file || !name) return NextResponse.json({ error: \"file and name required\" }, { status: 400 })\n    const supabase = createServiceClient()\n    const path = `templates/${Date.now()}-${file.name}`\n    const { error: upErr } = await supabase.storage.from(\"contracts\").upload(path, file, {\n      cacheControl: \"3600\",\n      upsert: false,\n    } as any)\n    if (upErr) return NextResponse.json({ error: upErr.message || \"Upload failed\" }, { status: 500 })\n    const { data: row } = await supabase\n      .from(\"contract_templates\")\n      .insert({ name, storage_path: path, role, state: state || null })\n      .select(\"*\")\n      .single()\n    return NextResponse.json({ success: true, template: row })\n  } catch (e: any) {\n    return NextResponse.json({ error: e?.message || \"Failed to upload template\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,IAAA,mJAAmB;QACpC,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,sBAAsB,MAAM,CAAC,KAAK,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAC9G,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,WAAW,QAAQ,EAAE;QAAC;IACnD,EAAE,OAAO,GAAQ;QACf,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,OAAO,GAAG,WAAW;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAC9F;AACF;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,QAAQ;QACnC,MAAM,OAAO,KAAK,GAAG,CAAC;QACtB,MAAM,OAAO,OAAO,KAAK,GAAG,CAAC,WAAW;QACxC,MAAM,OAAO,OAAO,KAAK,GAAG,CAAC,WAAW;QACxC,MAAM,QAAQ,OAAO,KAAK,GAAG,CAAC,YAAY;QAC1C,IAAI,CAAC,QAAQ,CAAC,MAAM,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAyB,GAAG;YAAE,QAAQ;QAAI;QAChG,MAAM,WAAW,IAAA,mJAAmB;QACpC,MAAM,OAAO,CAAC,UAAU,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,IAAI,EAAE;QACnD,MAAM,EAAE,OAAO,KAAK,EAAE,GAAG,MAAM,SAAS,OAAO,CAAC,IAAI,CAAC,aAAa,MAAM,CAAC,MAAM,MAAM;YACnF,cAAc;YACd,QAAQ;QACV;QACA,IAAI,OAAO,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO,IAAI;QAAgB,GAAG;YAAE,QAAQ;QAAI;QAC/F,MAAM,EAAE,MAAM,GAAG,EAAE,GAAG,MAAM,SACzB,IAAI,CAAC,sBACL,MAAM,CAAC;YAAE;YAAM,cAAc;YAAM;YAAM,OAAO,SAAS;QAAK,GAC9D,MAAM,CAAC,KACP,MAAM;QACT,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,UAAU;QAAI;IAC1D,EAAE,OAAO,GAAQ;QACf,OAAO,uTAAY,CAAC,IAAI,CAAC;YAAE,OAAO,GAAG,WAAW;QAA4B,GAAG;YAAE,QAAQ;QAAI;IAC/F;AACF"}}]
}