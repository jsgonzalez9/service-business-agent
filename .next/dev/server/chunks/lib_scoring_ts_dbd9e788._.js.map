{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/hector/Desktop/WHOLESALE%20AI/v0-ai-wholesaling-agent/lib/scoring.ts"],"sourcesContent":["import type { Lead, Message } from \"@/lib/types\"\n\nexport function scoreLead(lead: Lead, recentMsgs: Message[]): number {\n  let s = 0\n  const m = (lead.motivation || \"\").toLowerCase()\n  if (m.includes(\"urgent\") || m.includes(\"need\") || m.includes(\"must\") || m.includes(\"foreclosure\")) s += 20\n  const price = lead.price_expectation || 0\n  const offer = lead.offer_amount || 0\n  if (price && offer && price <= offer * 1.2) s += 20\n  const t = (lead.timeline || \"\").toLowerCase()\n  if (t.includes(\"week\") || t.includes(\"asap\") || t.includes(\"days\")) s += 15\n  const cond = (lead.property_condition || \"\").toLowerCase()\n  if (cond.includes(\"needs\") || cond.includes(\"repairs\") || cond.includes(\"distress\")) s += 15\n  const responsiveness = recentMsgs.slice(-5).length >= 3 ? 15 : 0\n  s += responsiveness\n  const objections = recentMsgs.filter((r) => r.content.toLowerCase().includes(\"too low\") || r.content.toLowerCase().includes(\"more\")).length\n  s -= Math.min(objections * 5, 15)\n  return Math.max(0, Math.min(100, s))\n}\n\n"],"names":[],"mappings":";;;;AAEO,SAAS,UAAU,IAAU,EAAE,UAAqB;IACzD,IAAI,IAAI;IACR,MAAM,IAAI,CAAC,KAAK,UAAU,IAAI,EAAE,EAAE,WAAW;IAC7C,IAAI,EAAE,QAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,WAAW,EAAE,QAAQ,CAAC,WAAW,EAAE,QAAQ,CAAC,gBAAgB,KAAK;IACxG,MAAM,QAAQ,KAAK,iBAAiB,IAAI;IACxC,MAAM,QAAQ,KAAK,YAAY,IAAI;IACnC,IAAI,SAAS,SAAS,SAAS,QAAQ,KAAK,KAAK;IACjD,MAAM,IAAI,CAAC,KAAK,QAAQ,IAAI,EAAE,EAAE,WAAW;IAC3C,IAAI,EAAE,QAAQ,CAAC,WAAW,EAAE,QAAQ,CAAC,WAAW,EAAE,QAAQ,CAAC,SAAS,KAAK;IACzE,MAAM,OAAO,CAAC,KAAK,kBAAkB,IAAI,EAAE,EAAE,WAAW;IACxD,IAAI,KAAK,QAAQ,CAAC,YAAY,KAAK,QAAQ,CAAC,cAAc,KAAK,QAAQ,CAAC,aAAa,KAAK;IAC1F,MAAM,iBAAiB,WAAW,KAAK,CAAC,CAAC,GAAG,MAAM,IAAI,IAAI,KAAK;IAC/D,KAAK;IACL,MAAM,aAAa,WAAW,MAAM,CAAC,CAAC,IAAM,EAAE,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,cAAc,EAAE,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,SAAS,MAAM;IAC3I,KAAK,KAAK,GAAG,CAAC,aAAa,GAAG;IAC9B,OAAO,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK;AACnC"}}]
}